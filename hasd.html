<!doctype html>
<html lang="kk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>JavaScript –∞—Ä“õ—ã–ª—ã ”ò–º–±–µ–±–∞–ø –í–µ–±-–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—Ç–µ—Ä “ö“±—Ä—É</title>
  <style>
    :root {
      --bg: #0f172a;
      --card: #111827;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --accent: #22c55e;
      --accent-2: #38bdf8;
      --border: #1f2937;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
      background: radial-gradient(1200px 600px at 10% -10%, #0b1220, transparent),
                  radial-gradient(1000px 500px at 110% -20%, #082b1c, transparent),
                  var(--bg);
      min-height: 100dvh;
      line-height: 1.5;
    }
    header {
      position: sticky; top: 0; z-index: 20;
      background: rgba(15,23,42,0.7);
      backdrop-filter: blur(8px);
      border-bottom: 1px solid var(--border);
    }
    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 16px;
    }
    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 56px;
    }
    .brand { font-weight: 700; letter-spacing: .2px; }
    .brand .tag { color: var(--accent); }
    .menu-btn {
      display: none;
      background: none; border: 1px solid var(--border); color: var(--text);
      padding: 6px 10px; border-radius: 8px; cursor: pointer;
    }
    nav ul {
      list-style: none; margin: 0; padding: 0;
      display: flex; gap: 16px;
    }
    nav a {
      color: var(--text); text-decoration: none; font-size: 14px;
      padding: 8px 10px; border-radius: 8px;
    }
    nav a:hover { background: #0b1220; }

    main { padding: 24px 0 56px; }
    .grid {
      display: grid;
      grid-template-columns: 1.4fr .6fr;
      gap: 20px;
    }
    .card {
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    }
    h1 { font-size: 28px; margin: 10px 0 16px; }
    h2 { font-size: 20px; margin: 18px 0 10px; }
    p, li, code, pre { font-size: 14px; }
    .muted { color: var(--muted); }
    .badge {
      display: inline-block;
      padding: 2px 8px;
      border: 1px solid var(--border);
      border-radius: 999px;
      font-size: 12px;
      color: var(--muted);
    }
    pre {
      background: #0b1220;
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 12px;
      overflow: auto;
    }
    code { color: #d1fae5; }
    .kpi {
      display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;
    }
    .kpi .item { background: #0b1220; border: 1px solid var(--border); border-radius: 12px; padding: 10px; }
    .label { color: var(--muted); font-size: 12px; }
    .value { font-size: 18px; font-weight: 700; }

    /* Demo areas */
    .demo {
      display: grid; gap: 14px;
    }
    .resizable-box {
      background: linear-gradient(135deg, rgba(34,197,94,.15), rgba(56,189,248,.15));
      border: 1px dashed #1e293b;
      border-radius: 12px;
      height: 120px;
      display: grid; place-items: center;
      color: #c7f9cc;
    }
    .status {
      display: grid; grid-template-columns: 1fr 1fr;
      gap: 8px; margin-top: 6px;
    }
    .status .pill {
      background: #0b1220; border: 1px solid var(--border);
      border-radius: 10px; padding: 8px; font-size: 12px;
    }
    .animate-on-view {
      opacity: 0; transform: translateY(10px); transition: .45s ease;
    }
    .animate-on-view.visible {
      opacity: 1; transform: translateY(0);
    }

    /* Mobile layout toggle via JS (.mobile-layout on body) */
    body.mobile-layout nav ul {
      display: grid; gap: 8px; padding: 8px 0;
    }
    @media (max-width: 900px) {
      .grid { grid-template-columns: 1fr; }
    }
    @media (max-width: 768px) {
      .menu-btn { display: inline-block; }
      nav ul {
        display: none;
        grid-template-columns: 1fr;
      }
      nav ul.open { display: grid; }
    }
  </style>
</head>
<body>
  <noscript>
    <div style="background:#7f1d1d;color:#fee2e2;padding:10px;text-align:center">
      JavaScript ”©—à—ñ—Ä—ñ–ª–≥–µ–Ω. –ù–µ–≥—ñ–∑–≥—ñ –∫–æ–Ω—Ç–µ–Ω—Ç “õ–æ–ª–∂–µ—Ç—ñ–º–¥—ñ, –±—ñ—Ä–∞“õ –∫–µ–π–±—ñ—Ä –∂–∞“õ—Å–∞—Ä—Ç—É–ª–∞—Ä –∫”©—Ä—Å–µ—Ç—ñ–ª–º–µ–π–¥—ñ.
    </div>
  </noscript>

  <header>
    <div class="container nav">
      <div class="brand">Universal Web UI <span class="tag">JS</span></div>
      <button id="menuBtn" class="menu-btn" aria-expanded="false" aria-controls="topNav">‚ò∞ –ú”ô–∑—ñ—Ä</button>
      <nav>
        <ul id="topNav" role="menu">
          <li><a href="#intro">–ö—ñ—Ä—ñ—Å–ø–µ</a></li>
          <li><a href="#responsive">–ê–¥–∞–ø—Ç–∏–≤—Ç—ñ–ª—ñ–∫</a></li>
          <li><a href="#matchmedia">matchMedia</a></li>
          <li><a href="#cross">–ö—Ä–æ—Å—Å–±—Ä–∞—É–∑–µ—Ä–ª—ñ–∫</a></li>
          <li><a href="#best">“Æ–∑–¥—ñ–∫ —Ç”ô–∂—ñ—Ä–∏–±–µ–ª–µ—Ä</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="container">
    <section id="intro" class="card animate-on-view">
      <span class="badge">üí° –ö—ñ—Ä—ñ—Å–ø–µ –∂”ô–Ω–µ –ú–∞“õ—Å–∞—Ç</span>
      <h1>JavaScript –∞—Ä“õ—ã–ª—ã ”ò–º–±–µ–±–∞–ø –í–µ–±-–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—Ç–µ—Ä “ö“±—Ä—É</h1>
      <p>–ú–∞“õ—Å–∞—Ç—ã: JavaScript –∫”©–º–µ–≥—ñ–º–µ–Ω –≤–µ–±-—Å–∞–π—Ç—Ç—ã“£ ”ô—Ä—Ç“Ø—Ä–ª—ñ “õ“±—Ä—ã–ª“ì—ã–ª–∞—Ä –º–µ–Ω –±—Ä–∞—É–∑–µ—Ä–ª–µ—Ä–¥–µ –º—ñ–Ω—Å—ñ–∑ –∂“±–º—ã—Å —ñ—Å—Ç–µ—É—ñ–Ω “õ–∞–º—Ç–∞–º–∞—Å—ã–∑ –µ—Ç—É ”ô–¥—ñ—Å—Ç–µ—Ä—ñ–Ω “õ–∞—Ä–∞—Å—Ç—ã—Ä—É.</p>
      <div class="kpi">
        <div class="item">
          <div class="label">–ù–µ–ª—ñ–∫—Ç–µ–Ω –º–∞“£—ã–∑–¥—ã?</div>
          <div class="value">–ë—ñ—Ä–∫–µ–ª–∫—ñ UX</div>
          <div class="muted">“ö“±—Ä—ã–ª“ì—ã“ì–∞ “õ–∞—Ä–∞–º–∞—Å—Ç–∞–Ω</div>
        </div>
        <div class="item">
          <div class="label">“ö–æ–ª–∂–µ—Ç—ñ–º–¥—ñ–ª—ñ–∫</div>
          <div class="value">–ë–∞—Ä–ª—ã“ì—ã–Ω–∞</div>
          <div class="muted">–ú–∞–∑–º“±–Ω“ì–∞ “õ–æ–ª–∂–µ—Ç—ñ–º–¥—ñ</div>
        </div>
        <div class="item">
          <div class="label">–¢–µ–∫—Å–µ—Ä—É</div>
          <div class="value">BrowserStack</div>
          <div class="muted">–ö”©–ø–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–ª—ã“õ</div>
        </div>
      </div>
    </section>

    <section id="responsive" class="grid">
      <div class="card animate-on-view">
        <span class="badge">üì± –ê–¥–∞–ø—Ç–∏–≤—Ç—ñ–ª—ñ–∫: JS-—Ç—ñ“£ “õ–æ—Å—ã–º—à–∞ —Ä”©–ª—ñ</span>
        <h2>JS –ø–∞–π–¥–∞–ª—ã “õ“±—Ä–∞–ª–¥–∞—Ä—ã</h2>
        <ul>
          <li><code>window.innerWidth</code> ‚Äî viewport –µ–Ω—ñ–Ω –∞–ª—É, –º—ã—Å–∞–ª—ã hamburger –º”ô–∑—ñ—Ä–¥—ñ –∞—É—ã—Å—Ç—ã—Ä—É.</li>
          <li><code>element.getBoundingClientRect()</code> ‚Äî —ç–ª–µ–º–µ–Ω—Ç –∫”©—Ä—ñ–Ω–≥–µ–Ω–¥–µ –∞–Ω–∏–º–∞—Ü–∏—è–Ω—ã —ñ—Å–∫–µ “õ–æ—Å—É.</li>
          <li><code>ResizeObserver</code> ‚Äî —ç–ª–µ–º–µ–Ω—Ç ”©–ª—à–µ–º—ñ–Ω –±–∞“õ—ã–ª–∞—É.</li>
        </ul>
        <div class="demo">
          <div class="resizable-box" id="box">
            <div>
              <div id="boxSize">‚Äî √ó ‚Äî</div>
              <small class="muted">–ë“±–ª –±–ª–æ–∫ ”©–ª—à–µ–º—ñ ”©–∑–≥–µ—Ä—Å–µ, JS –∂–∞“£–∞—Ä—Ç–∞–¥—ã</small>
            </div>
          </div>
          <div class="status">
            <div class="pill">Viewport –µ–Ω—ñ: <strong id="vw">‚Äî</strong></div>
            <div class="pill">–ú–∞–∫–µ—Ç: <strong id="layoutMode">desktop</strong></div>
          </div>
        </div>
      </div>
      <div class="card animate-on-view">
        <span class="badge">üîé –ö”©—Ä—ñ–Ω—ñ–º–¥—ñ–ª—ñ–∫</span>
        <h2>getBoundingClientRect() –¥–µ–º–æ</h2>
        <p class="muted">–≠–ª–µ–º–µ–Ω—Ç viewport-“õ–∞ –∫—ñ—Ä–≥–µ–Ω–¥–µ <code>.visible</code> –∫–ª–∞—Å—ã “õ–æ—Å—ã–ª–∞–¥—ã.</p>
        <pre><code>// –≠–ª–µ–º–µ–Ω—Ç –∫”©—Ä—ñ–Ω–≥–µ–Ω-–±–æ–ª–º–∞“ì–∞–Ω—ã–Ω —Ç–µ–∫—Å–µ—Ä—É
function isInView(el) {
  const r = el.getBoundingClientRect();
  return r.top &lt;= (window.innerHeight || document.documentElement.clientHeight)
      &amp;&amp; r.bottom &gt;= 0;
}</code></pre>
      </div>
    </section>

    <section id="matchmedia" class="card animate-on-view">
      <span class="badge">üìè matchMedia() API</span>
      <h2>–ú–µ–¥–∏–∞ —Å“±—Ä–∞—É–ª–∞—Ä–¥—ã JS-—Ç–∞ –±–∞—Å“õ–∞—Ä—É</h2>
      <pre><code>const query = window.matchMedia('(max-width: 768px)');

function handleMediaChange(e) {
  if (e.matches) {
    document.body.classList.add('mobile-layout');   // –º–æ–±–∏–ª—å–¥—ñ –ª–æ–≥–∏–∫–∞
  } else {
    document.body.classList.remove('mobile-layout'); // “Ø—Å—Ç–µ–ª–¥—ñ–∫ –ª–æ–≥–∏–∫–∞
  }
}

if (query.addEventListener) {
  query.addEventListener('change', handleMediaChange);
} else {
  // –ï—Å–∫—ñ –±—Ä–∞—É–∑–µ—Ä–ª–µ—Ä
  query.addListener(handleMediaChange);
}
handleMediaChange(query);</code></pre>
    </section>

    <section id="cross" class="card animate-on-view">
      <span class="badge">üåê –ö—Ä–æ—Å—Å–±—Ä–∞—É–∑–µ—Ä–ª—ñ–∫</span>
      <h2>Feature detection, –ø–æ–ª–∏—Ñ–∏–ª–ª–¥–µ—Ä, —Ç—Ä–∞–Ω—Å–ø–∏–ª—è—Ü–∏—è</h2>
      <pre><code>// 1) Feature detection (UA –µ–º–µ—Å)
if ('fetch' in window) {
  fetch('/data').catch(() =&gt; {});
} else {
  // “ö–∞—Ä–∞–ø–∞–π—ã–º XHR –±–∞–ª–∞–º–∞—Å—ã
  var xhr = new XMLHttpRequest();
  xhr.open('GET', '/data', true);
  xhr.send();
}

// 2) –ü–æ–ª–∏—Ñ–∏–ª–ª –º—ã—Å–∞–ª—ã (Array.prototype.includes)
if (!Array.prototype.includes) {
  Object.defineProperty(Array.prototype, 'includes', {
    value: function (search, fromIndex) {
      return this.indexOf(search, fromIndex) !== -1;
    }
  });
}

// 3) –¢—Ä–∞–Ω—Å–ø–∏–ª—è—Ü–∏—è
// Babel “õ“±—Ä–∞–ª—ã–º–µ–Ω ES6+ –∫–æ–¥—ã–Ω ES5-–∫–µ –∞—É—ã—Å—Ç—ã—Ä—ã“£—ã–∑ (“õ“±—Ä–∞—Å—Ç—ã—Ä—É –∫–µ–∑–µ“£—ñ–Ω–¥–µ).</code></pre>
    </section>

    <section id="best" class="card animate-on-view">
      <span class="badge">üèÜ “Æ–∑–¥—ñ–∫ —Ç”ô–∂—ñ—Ä–∏–±–µ–ª–µ—Ä</span>
      <ul>
        <li>–ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤—Ç—ñ –∂–∞“õ—Å–∞—Ä—Ç—É: –Ω–µ–≥—ñ–∑–≥—ñ —Ñ—É–Ω–∫—Ü–∏—è JS-—Å—ñ–∑ –¥–µ “õ–æ–ª–∂–µ—Ç—ñ–º–¥—ñ –±–æ–ª—Å—ã–Ω.</li>
        <li>–§—Ä–µ–π–º–≤–æ—Ä–∫—Ç–∞—Ä: React/Vue/Angular –∫”©–ø—Ç–µ–≥–µ–Ω “Ø–π–ª–µ—Å—ñ–º –º”ô—Å–µ–ª–µ–ª–µ—Ä—ñ–Ω —à–µ—à–µ–¥—ñ.</li>
        <li>–ö”©–ø–±—Ä–∞—É–∑–µ—Ä–ª—ñ–∫ —Ç–µ—Å—Ç—ñ–ª–µ—É: BrowserStack, Sauce Labs, Playwright.</li>
      </ul>
      <div class="status">
        <div class="pill">JS –∫“Ø–π—ñ: <strong id="jsStatus">–∂“Ø–∫—Ç–µ–ª—É–¥–µ‚Ä¶</strong></div>
        <div class="pill">ResizeObserver: <strong id="roStatus">‚Äî</strong></div>
      </div>
    </section>
  </main>

  <script>
    // --- Hamburger menu ---
    (function() {
      var btn = document.getElementById('menuBtn');
      var nav = document.getElementById('topNav');
      if (!btn || !nav) return;
      btn.addEventListener('click', function() {
        var open = nav.classList.toggle('open');
        btn.setAttribute('aria-expanded', String(open));
      });
    })();

    // --- matchMedia: desktop/mobile layout toggle ---
    (function() {
      var mq = window.matchMedia('(max-width: 768px)');
      function handle(e) {
        document.body.classList.toggle('mobile-layout', !!e.matches);
        document.getElementById('layoutMode').textContent = e.matches ? 'mobile' : 'desktop';
      }
      if (mq.addEventListener) mq.addEventListener('change', handle);
      else if (mq.addListener) mq.addListener(handle); // older
      handle(mq);
    })();

    // --- Viewport width indicator ---
    (function() {
      var vwEl = document.getElementById('vw');
      function update() { vwEl.textContent = window.innerWidth + 'px'; }
      window.addEventListener('resize', update, { passive: true });
      update();
    })();

    // --- ResizeObserver demo with fallback ---
    (function() {
      var box = document.getElementById('box');
      var label = document.getElementById('boxSize');
      var roStatus = document.getElementById('roStatus');
      function writeSize() {
        var r = box.getBoundingClientRect();
        label.textContent = Math.round(r.width) + ' √ó ' + Math.round(r.height);
      }
      if ('ResizeObserver' in window) {
        roStatus.textContent = '“õ–æ–ª–¥–∞–π–¥—ã';
        var ro = new ResizeObserver(function() { writeSize(); });
        ro.observe(box);
      } else {
        roStatus.textContent = '–∂–æ“õ (fallback)';
        window.addEventListener('resize', writeSize, { passive: true });
      }
      writeSize();
    })();

    // --- getBoundingClientRect-based visibility animation ---
    (function() {
      var items = Array.prototype.slice.call(document.querySelectorAll('.animate-on-view'));
      function isInView(el) {
        var r = el.getBoundingClientRect();
        var vh = window.innerHeight || document.documentElement.clientHeight;
        return r.top <= vh && r.bottom >= 0;
      }
      function tick() { items.forEach(function(el){ if (isInView(el)) el.classList.add('visible'); }); }
      document.addEventListener('scroll', tick, { passive: true });
      window.addEventListener('resize', tick, { passive: true });
      window.addEventListener('load', tick);
      tick();
    })();

    // --- Feature detection + simple polyfill example ---
    (function() {
      // Array.includes polyfill (simple)
      if (!Array.prototype.includes) {
        Object.defineProperty(Array.prototype, 'includes', {
          value: function (search, fromIndex) {
            return this.indexOf(search, fromIndex || 0) !== -1;
          }
        });
      }

      // fetch fallback example (no-op endpoint)
      var jsStatus = document.getElementById('jsStatus');
      if ('fetch' in window) {
        jsStatus.textContent = '–∑–∞–º–∞–Ω–∞—É–∏ API';
      } else {
        jsStatus.textContent = 'XHR fallback';
        try {
          var xhr = new XMLHttpRequest();
          xhr.open('GET', '/', true);
          xhr.send();
        } catch(e) {}
      }
    })();
  </script>
</body>
</html>